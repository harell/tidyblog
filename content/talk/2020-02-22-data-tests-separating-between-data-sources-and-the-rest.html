---
title: 'Data Tests: Separating between Data Sources and the Rest'
author: Harel Lustiger
date: '2020-02-22'
slug: data-tests-separating-between-data-sources-and-the-rest
draft: true
categories:
  - R
  - Software Architecture
tags:
  - plugin architecture
  - data sources
  - small design up front
---

<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>

<div id="TOC">
<ul>
<li><a href="#abstract">Abstract</a></li>
<li><a href="#setup">Setup</a><ul>
<li><a href="#meet-euel-cheatam-the-car-salesman-at-merceduce-dealership">Meet Euel Cheatam the car salesman at Merceduce dealership</a></li>
<li><a href="#the-data">The data</a></li>
</ul></li>
<li><a href="#a-system-with-no-design-up-front">A system with no design up front</a></li>
</ul>
</div>

<div id="abstract" class="section level2">
<h2>Abstract</h2>
<p>Data science projects in commercial companies often experience a challenge
arising from evolving data sources. As the project progresses, new signals and
information sources are added incrementally. In practice, when the data source
changes, it creates a need to change the application source code.</p>
<p>With <strong>no design up front</strong>, some application modules, such as a dashboard or a
machine learning model, unwittingly become dependent on the data source. In this
case, accommodating the evolving data source is not simply a matter of changing
the code related to the data source. Rather, preserving the rest of the existing
application in a working condition involves further code changes in distant
elements of the application.</p>
<p>An alternative way of dealing with evolving data sources is to introduce a
<strong>small design up front</strong>. Such design lets programmers manage the source code
dependencies throughout the project life-cycle.</p>
<p>This post suggests a design that <mark>(1) separates data sources from analytic
applications and (2) restricts analytic applications from knowing about the data
sources</mark>.</p>
<p>While the evolving data sources challenge is programming language agnostic, this
post demonstrates an implementation of the suggested design in R.</p>
</div>
<div id="setup" class="section level2">
<h2>Setup</h2>
<div id="meet-euel-cheatam-the-car-salesman-at-merceduce-dealership" class="section level3">
<h3>Meet Euel Cheatam the car salesman at Merceduce dealership</h3>
<p><img src="https://i.imgflip.com/2qlpbb.jpg" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="the-data" class="section level3">
<h3>The data</h3>
<p>The first 6 car models from <code>datasets::mtcars</code> data source</p>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-2">Table 1: </span>available data during project inception
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
mpg
</th>
<th style="text-align:right;">
cyl
</th>
<th style="text-align:right;">
disp
</th>
<th style="text-align:right;">
hp
</th>
<th style="text-align:right;">
drat
</th>
<th style="text-align:right;">
wt
</th>
<th style="text-align:right;">
qsec
</th>
<th style="text-align:right;">
vs
</th>
<th style="text-align:right;">
am
</th>
<th style="text-align:right;">
gear
</th>
<th style="text-align:right;">
carb
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Mazda RX4
</td>
<td style="text-align:right;">
21.0
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
160
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
16.5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Mazda RX4 Wag
</td>
<td style="text-align:right;">
21.0
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
160
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
2.9
</td>
<td style="text-align:right;">
17.0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Datsun 710
</td>
<td style="text-align:right;">
22.8
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
108
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
3.8
</td>
<td style="text-align:right;">
2.3
</td>
<td style="text-align:right;">
18.6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Hornet 4 Drive
</td>
<td style="text-align:right;">
21.4
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
258
</td>
<td style="text-align:right;">
110
</td>
<td style="text-align:right;">
3.1
</td>
<td style="text-align:right;">
3.2
</td>
<td style="text-align:right;">
19.4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Hornet Sportabout
</td>
<td style="text-align:right;">
18.7
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
360
</td>
<td style="text-align:right;">
175
</td>
<td style="text-align:right;">
3.1
</td>
<td style="text-align:right;">
3.4
</td>
<td style="text-align:right;">
17.0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Valiant
</td>
<td style="text-align:right;">
18.1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
225
</td>
<td style="text-align:right;">
105
</td>
<td style="text-align:right;">
2.8
</td>
<td style="text-align:right;">
3.5
</td>
<td style="text-align:right;">
20.2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="a-system-with-no-design-up-front" class="section level2">
<h2>A system with no design up front</h2>
<p>Direct connection between the data source and the analytic application</p>
<pre class="r"><code># Data Source: Local File
data(mtcars, package = &quot;datasets&quot;)
cars &lt;- mtcars

# Analytic Application: Dashboard</code></pre>
</div>
