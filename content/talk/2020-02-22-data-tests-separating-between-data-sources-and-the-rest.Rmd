---
title: 'Data Tests: Separating between Data Sources and the Rest'
author: Harel Lustiger
date: '2020-02-22'
slug: data-tests-separating-between-data-sources-and-the-rest
draft: true
categories:
  - R
  - Software Architecture
tags:
  - plugin architecture
  - data sources
  - small design up front
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE, 
  message = FALSE,
  warning = FALSE,
  fig.align = "center",
  out.width = "100%"
)

```

## Abstract

Data science projects in commercial companies often experience a challenge
arising from evolving data sources. As the project progresses, new signals and
information sources are added incrementally. In practice, when the data source
changes, it creates a need to change the application source code.

With **no design up front**, some application modules, such as a dashboard or a
machine learning model, unwittingly become dependent on the data source. In this
case, accommodating the evolving data source is not simply a matter of changing
the code related to the data source. Rather, preserving the rest of the existing
application in a working condition involves further code changes in distant
elements of the application.

An alternative way of dealing with evolving data sources is to introduce a
**small design up front**. Such design lets programmers manage the source code
dependencies throughout the project life-cycle.

This post suggests a design that <mark>(1) separates data sources from analytic
applications and (2) restricts analytic applications from knowing about the data
sources</mark>.

While the evolving data sources challenge is programming language agnostic, this
post demonstrates an implementation of the suggested design in R.

## Setup

### Meet Euel Cheatam the car salesman at Merceduce dealership

```{r} 
# merceduce dealership
# cheeky Euel Cheatam in action
knitr::include_graphics('https://i.imgflip.com/2qlpbb.jpg')
```

### The data

The first 6 car models from `datasets::mtcars` data source 

```{r}
mtcars %>% 
    head() %>% 
    knitr::kable(caption = "available data during project inception", 
                 row.names = TRUE, digits = 1) %>% 
    kableExtra::kable_styling(bootstrap_options = "striped", full_width = TRUE)
```

## A system with no design up front

Direct connection between the data source and the analytic application

```{r, echo = TRUE, eval = FALSE}
# Data Source: Local File
data(mtcars, package = "datasets")
cars <- mtcars

# Analytic Application: Dashboard

```
